<?php
$user = $this->user ?? null;
if (!$user): ?>
    <div class="users-container">
        <div class="users-card">
            <p>User not found.</p>
            <a href="<?php echo WEB_ROOT; ?>/users">Back to users</a>
        </div>
    </div>
<?php else: ?>
    <div class="users-container">
        <div class="users-card">

            <!-- Header -->
            <div class="users-header">
                <div class="users-title">
                    Edit User
                </div>
            </div>

            <!-- Formulario -->
            <div class="users-form">
                <form action="<?php echo WEB_ROOT; ?>/users/edit" method="POST">

                    <!-- Campo oculto con ID -->
                    <input type="hidden" name="id" value="<?php echo htmlspecialchars($user['id']); ?>">

                    <!-- Campo Nombre -->
                    <div class="form-group">
                        <label for="name">Name:</label>
                        <input type="text" id="name" name="name"
                            value="<?php echo htmlspecialchars($user['name']); ?>" required>
                    </div>

                    <!-- Campo Apellido -->
                    <div class="form-group">
                        <label for="surname">Surname:</label>
                        <input type="text" id="surname" name="surname"
                            value="<?php echo htmlspecialchars($user['surname'] ?? ''); ?>" required>
                    </div>
                    <!-- Campo Usuario -->
                    <div class="form-group">
                        <label for="username">Username:</label>
                        <input type="text" id="username" name="username"
                            value="<?php echo htmlspecialchars($user['username'] ?? ''); ?>" required>
                    </div>

                    <!-- Campo Email -->
                    <div class="form-group">
                        <label for="email">Email:</label>
                        <input type="email" id="email" name="email"
                            value="<?php echo htmlspecialchars($user['email']); ?>" required>
                    </div>

                    <!-- Botones -->
                    <div class="form-actions">
                        <button type="submit" class="btn-save">Update User</button>
                        <a href="<?php echo WEB_ROOT; ?>/users" class="btn-cancel">Cancel</a>
                    </div>
                </form>
            </div>

        </div>
    </div>
<?php endif; ?>